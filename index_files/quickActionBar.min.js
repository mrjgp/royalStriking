"use strict";define("quickActionBar/components/quickAction",["lodash","react"],function(t,i){return i.createClass({propTypes:{svgString:i.PropTypes.string.isRequired,fillColor:i.PropTypes.string.isRequired,backgroundColor:i.PropTypes.string.isRequired,textColor:i.PropTypes.string.isRequired,text:i.PropTypes.string.isRequired,anchorData:i.PropTypes.object,clickHandler:i.PropTypes.func,notificationCount:i.PropTypes.number},render:function(){return i.DOM.a(t.assign({},this.props.anchorData,{"data-quick-action":"action",style:{backgroundColor:this.props.backgroundColor,color:this.props.textColor},onClick:this.props.clickHandler}),[i.DOM.div({"data-quick-action":"icon",key:"icon",style:{fill:this.props.fillColor},dangerouslySetInnerHTML:{__html:this.props.svgString}},null),i.DOM.div({"data-quick-action":"text",key:"text"},this.props.text),i.DOM.div({"data-quick-action":"notifications",key:"notifications",style:{display:t.get(this.props,"notificationCount",0)>0?"initial":"none"}},null)])}})}),define("quickActionBar/utils/quickActionUtils",["lodash"],function(t){function i(i){var e=o.exec(t.trim(i));return{type:t.get(e,[1],"brand"),invert:!!t.get(e,[2])}}function e(e,o){var r=i(o),c=t.get(n,r.type);return r.invert?{fillColor:"#fff",backgroundColor:c||e,textColor:"#fff"}:{fillColor:c||e,backgroundColor:"#fff",textColor:c||"#000"}}var n={black:"#000",grey:"#888"},o=/^(brand|grey|black)(?:\s(inv))?$/;return{resolveIconColors:e}}),define("quickActionBar/bi/events.json",[],function(){return{DYNAMIC_QUICK_ACTION_CLICK:{eventId:385,adapter:"ugc-viewer",params:{site_id:"site_id",appDefinitionId:"appDefinitionId"}}}}),define("quickActionBar/utils/quickActionBarDataRequirementsChecker",["core","lodash","utils"],function(t,i,e){function n(t,i){var e="svgshape.v2.Svg_"+i;return s.createSvgFetchRequest(t.serviceTopology.mediaRootUrl,t,e)}function o(t){var e=i.map(t.getClientSpecMap(),"appDefinitionId");return i(a).values().filter(function(t){return i.includes(e,t.appId)}).map(function(i){return n(t,i.icon)}).compact().value()}function r(t,e){return i.compact([n(t,e.data.icon)])}var c=t.dataRequirementsChecker,s=e.svg,a=e.constants.SUPPORTED_DYNAMIC_ACTIONS;c.registerCheckerForCompType("wysiwyg.viewer.components.QuickActionBarItem",r),c.registerCheckerForCompType("wysiwyg.viewer.components.QuickActionBar",o)}),define("quickActionBar/components/quickActionBar",["lodash","react","core","santaProps","quickActionBar/components/quickAction","quickActionBar/utils/quickActionUtils","quickActionBar/bi/events.json","quickActionBar/utils/quickActionBarDataRequirementsChecker"],function(t,i,e,n,o,r,c){return{displayName:"QuickActionBar",mixins:[e.compMixins.skinBasedComp],propTypes:{reportBI:n.Types.reportBI.isRequired,compProp:n.Types.Component.compProp.isRequired,siteScrollingBlocker:n.Types.SiteAspects.siteScrollingBlocker.isRequired,dynamicActions:n.Types.QuickActions.dynamicActions.isRequired,componentViewMode:n.Types.RenderFlags.componentViewMode},getInitialState:function(){return{isOpen:!1}},isForcedOpen:function(){return t.isFunction(this.getComponentPreviewState)&&"open"===this.getComponentPreviewState()},isOpen:function(){return this.isForcedOpen()||this.state.isOpen&&"editor"!==this.props.componentViewMode},toggleActionBar:function(){this.setState({isOpen:!this.state.isOpen})},componentDidUpdate:function(){this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,this.isOpen())},createActionClickHandler:function(i){return t.isFunction(this.createActionClickHandlerInPreview)?this.createActionClickHandlerInPreview:function(){this.props.reportBI(c.DYNAMIC_QUICK_ACTION_CLICK,{site_id:this.props.siteId,appDefinitionId:i}),this.handleAction(i)}.bind(this)},createSingleDynamicAction:function(e){var n=this.getStyleProperty("colorScheme","brand").trim(),c=r.resolveIconColors(e.color,n),s=t.assign({},t.pick(e,["text","svgString","notificationCount"]),t.pick(c,["fillColor","backgroundColor","textColor"]),{clickHandler:this.createActionClickHandler(e.appId)});return i.createElement(o,s)},createDynamicActions:function(){return t.map(this.props.dynamicActions,this.createSingleDynamicAction)},getActionCount:function(){return t.get(this.props,"children.length",0)+this.props.dynamicActions.length},getRootClasses:function(){var t={"hide-text":this.props.compProp.hideText,closed:!this.isOpen()};return t["align-"+this.props.compProp.alignment]=!0,t["action-count-"+this.getActionCount()]=!0,t},getChildren:function(){var e=i.Children.map(this.props.children,function(t){var e={colorScheme:this.getStyleProperty("colorScheme","brand").trim()};return i.cloneElement(t,e)},this);return t(this.createDynamicActions()).concat(e).take(5).value()},getSkinProperties:function(){return{"":{className:this.classSet(this.getRootClasses())},overlay:{onClick:this.toggleActionBar},controlButton:{onClick:this.toggleActionBar},actionsContainer:{children:this.getChildren()}}}}}),define("quickActionBar/components/quickActionBarItem",["lodash","react","core","utils","santaProps","quickActionBar/components/quickAction","quickActionBar/utils/quickActionUtils"],function(t,i,e,n,o,r,c){var s=n.linkRenderer;return{displayName:"QuickActionBarItem",mixins:[e.compMixins.skinBasedComp],propTypes:{structuredAction:o.Types.QuickActions.structuredAction.isRequired,linkRenderInfo:o.Types.Link.linkRenderInfo,rootNavigationInfo:o.Types.Component.rootNavigationInfo,colorScheme:i.PropTypes.string},createAction:function(){var e=c.resolveIconColors(this.props.structuredAction.color,this.props.colorScheme),n=t.assign({},t.pick(this.props.structuredAction,["text","svgString"]),t.pick(e,["fillColor","backgroundColor","textColor"]),{anchorData:s.renderLink(this.props.structuredAction.link,this.props.linkRenderInfo,this.props.rootNavigationInfo)});return i.createElement(r,n)},getSkinProperties:function(){return{"":{parentConst:this.createAction}}}}}),define("quickActionBar",["quickActionBar/components/quickActionBar","quickActionBar/components/quickActionBarItem"],function(t,i){return{quickActionBar:t,quickActionBarItem:i}});
//# sourceMappingURL=quickActionBar.min.js.map